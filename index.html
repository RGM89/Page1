<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width,initial-scale=1">
    <title>Google Chart Toolsの練習</title>
    <link rel="stylesheet" type="text/css" href="index.css">
    <script language="javascript">
        var left = 0;
        var right = 0;
        var enter = 0;
        var x = 0;
        
        function keydown(event){
            if(event.keyCode==37){
                left=1;
            }
            if(event.keyCode==39){
                right=1;
            }
            if(event.keyCode==13){
                enter=1;
                moveLink();
            }
            disp();
        }
        
        function disp(){
            if(left==1){
                if(x<100){
                    x=200;
                }else{
                    x=x-100;
                }
            }
            if(right==1){
                if(x<=100){
                    x=x+100
                }else{
                    x=0;
                }
            }
            document.getElementById("mouse").style.left=x+"px";
        }
        
        function moveLink(){
            if(x==0){
                location.href="https://rgm89.github.io/";
            }else if(x==100){
                location.href="https://rgm89.github.io/index2.html";
            }else if(x==200){
                location.href="https://rgm89.github.io/myblog/";
            }
        }
        
        function keyup(event){
            if(event.keyCode==37){
                left=0;
            }else if(event.keyCode==39){
                right=0;
            }
        }
    </script>
</head>

<body>
    <!--Div that will hold the chart-->
    <div id="linechart_material"></div>

    <!--Load the AJAX API-->
    <script src="https://www.google.com/jsapi"></script>
    <script>
    // Load the Visualization API and the piechart package.
    google.load('visualization', '1.1', {
        'packages': ['line'],
        'language': 'ja'
    });

    google.setOnLoadCallback(drawChart);

    function drawChart() {
        
        var sW = window.innerWidth;
	    var sH = window.innerHeight;

        var data = new google.visualization.arrayToDataTable([
            ['年齢階級', '1980-1985', '1985-1990', '1990-1995', '1995-2000', '2000-2005', '2005-2010'],
            ['0~4歳→5~9歳', 56, 98, 157, 9, -76, -103],
            ['5~9歳→10~14歳', -8, -53, 48, 13, -33, -29],
            ['10~14歳→15~19歳', -443, -545, -164, -499, -284, -607],
            ['15~19歳→20~24歳', -1737, -2071, -1881, -1894, -1359, -1772],
            ['20~24歳→25~29歳', 708, 473, 957, 1076, 846, 348],
            ['25~29歳→30~34歳', 156, 79, 449, 323, 247, 16],
            ['30~34歳→35~39歳', 82, 66, 162, 118, -68, -269],
            ['35~39歳→40~44歳', 13, 7, 47, 101, -37, -113],
            ['40~44歳→45~49歳', -24, -24, 86, 72, -90, -37],
            ['45~49歳→50~54歳', 12, 33, 45, 76, 14, 9],
            ['50~54歳→55~59歳', 82, -8, 60, 11, 32, -23],
            ['55~59歳→60~64歳', 50, 2, 90, 87, 55, 38],
            ['60~64歳→65~69歳', 25, 67, 23, 7, 6, -27],
            ['65~69歳→70~74歳', 55, 47, 27, 53, 47, 30],
            ['70~74歳→75~79歳', 65, -6, 15, 35, 12, -17],
            ['75~79歳→80~84歳', 18, -17, -23, 35, 4, 74],
            ['80~84歳→85~89歳', -4, 24, -44, 50, 10, 44],
            ['85~89歳→90歳~', 5, 0, -15, 96, 56, 51]
        ]);

        var options = {
            chart: {
                title: '岐阜県高山市　年齢階級別純移動数の時系列分析',
            },
            width: sW,
            height: sW*0.5,
        };

        var chart = new google.charts.Line(document.getElementById('linechart_material'));

        chart.draw(data, options);
    }
</script>
<div id="test">
    大学進学の時期である18歳あたりの転出が一気に増える。<br>
    後卒業の時期になると地元で就職する人がいるせいか転入が伸びている。<br>
    しかしそれ以降の年齢はおよそ前後していない。<br>
    2005年から2010年と1995年から2000年で流入に大きな差があるが<br>
    バブル崩壊後からリーマンショック前の2005年まで流入が大きく<br>
    リーマンショックが起きる前から起きた少しあとで一気に低下している<br>
    ためいまいち要領を得ない。考えうることとしては住宅需要による変化<br>
    というよりも居住するという点における魅力の低下、地元で就職せずに<br>
    市外で就職する人の増加が考えられる。
    
    
</div>
<div id="mainblock">
    <img id="charaimg" src="やきう.png">
    <div id="charaname">やきう</div>
    <div id="text">
        ▼クリックで解説スタートや！
    </div>
    <div id="textnext">
        <button type="button" onClick="text()">▼</button>
    </div>
    <div id="textwin"></div>
    <div id="namewin"></div>
    <div id="link">
        <a href="https://rgm89.github.io/"><img src="top.png" alt=""></a>
        <a href="https://rgm89.github.io/index2.html"><img src="PC.png" alt=""></a>
        <a href="https://rgm89.github.io/myblog/"><img src="hexo.png" alt=""></a>
    </div>
        <div id="target"><img id="mouse" src="マウスカーソル.png" alt="" width="80px" height="80px"></div>
</div>

<script>
    document.onkeydown = keydown;
    document.onkeyup = keyup;
    
    var textnum = 0;
    var textbox = document.getElementById("text");
    var chara = document.getElementById("charaimg");
    var charaname = document.getElementById("charaname");
    
    function text() {
        if (textnum == 0) {
            textbox.innerHTML = "やきうのお兄ちゃん、この絵は何？";
            textnum++;
            chara.src="原住民.png"
            charaname.innerHTML="原住民";
        } else if (textnum == 1) {
            textbox.innerHTML = "これは岐阜県高山市の年齢階級別純移動数の時系列分析のグラフや。";
            charaname.innerHTML="やきう";
            textnum++;
            chara.src="やきう.png";
        } else if (textnum == 2) {
            textbox.innerHTML = "ねんれいかいきゅうじゅんいどうすう？"
            textnum = 3;
            chara.src="原住民.png"
            charaname.innerHTML="原住民";
        }else if (textnum == 3) {
            textbox.innerHTML = "なんや理解できんのか。しゃあない解説したるで。"
            textnum =4;
            chara.src="やきう.png"
            charaname.innerHTML="やきう";
        }else if (textnum == 4) {
            textbox.innerHTML = "これはな年齢ごとに高山市に何人移り住んで、何人出てったかってグラフや。"
            textnum =5;
            chara.src="やきう.png"
            charaname.innerHTML="やきう";
        }else if (textnum == 5) {
            textbox.innerHTML = "へー。じゃあ10歳から24歳くらいの人たちがどっか行っちゃったんだ。"
            textnum =6;
            chara.src="原住民.png"
            charaname.innerHTML="原住民";
        }else if (textnum == 6) {
            textbox.innerHTML = "でも何でどっか行っちゃったんだろう。"
            textnum =7;
            chara.src="原住民.png"
            charaname.innerHTML="原住民";
        }else if (textnum == 7) {
            textbox.innerHTML = "いいとこに気づいたな。これはやなズバリ大学が無いからや！"
            textnum =8;
            chara.src="やきう.png"
            charaname.innerHTML="やきう";
        }
        
        
        
        
        
    }
</script>
</body>

</html>
